(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){e.exports=n(314)},170:function(e,t,n){},309:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},310:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(9),l=n.n(i),o=(n(170),n(56)),c=n(57),d=n(61),u=n(58),m=n(62),s=n(28),f=n(20),p=n(320),E=n(319),y=n(315),b=n(316),v=n(317),h=n(80),I=n(323),g=n(145),O=n(43),R=n(324),k=function(e){var t=r.a.createElement(R.a,{onClick:function(t){e.addItemLabel(e.itemId,t.key)}},e.labels.map(function(e){return r.a.createElement(R.a.Item,{key:e.id},r.a.createElement(y.a,null,r.a.createElement(b.a,{span:8},r.a.createElement(O.Icon,{name:"tag",style:{color:e.color}})),r.a.createElement(b.a,{span:16},e.name)))}));return r.a.createElement(I.a,{overlay:t},r.a.createElement("a",{className:"ant-dropdown-link",href:"#"},"Add ",r.a.createElement(O.Icon,{name:"angle-down"})))},A=function(e,t){return{type:"CHANGE_SORT_BY",payload:{columnName:e,direction:t}}},j=Object(s.b)(function(e,t){return{labels:e.labels}},function(e){return{addItemLabel:function(t,n){return e(function(e,t){return{type:"ADD_ITEM_LABEL",payload:{itemId:e,labelId:t}}}(t,n))}}})(k),S=n(149);function D(){var e=Object(g.a)(["\n    border: 1px solid #e8e8e8;\n    border-bottom: 1px solid #e8e8e8!important;\n    margin: 20px;\n    background-color:#fff\n"]);return D=function(){return e},e}var T=Object(S.a)(E.a.Item)(D()),_=function(e){return r.a.createElement(T,null,r.a.createElement(b.a,{span:8},e.name," -"),r.a.createElement(b.a,{span:4},e.qty),r.a.createElement(b.a,{span:4},e.isRead?"isRead":"No"),r.a.createElement(b.a,{span:8},e.labels.map(function(e){return r.a.createElement("div",null,r.a.createElement(O.Icon,{name:"tag",style:{color:e.color}}),e.name)}),r.a.createElement(j,{itemId:e.id})))},N=n(91),w=n(42),C=n(321),F=n(322),L=function(e){var t=e.onChange;return r.a.createElement(F.a.Search,{placeholder:"input search text",onSearch:t,enterButton:!0})},B=function(e){var t=e.setFilter,n=e.unsetFilter;return r.a.createElement(y.a,null,r.a.createElement(b.a,{span:4},r.a.createElement(L,{filterName:"name",onChange:function(e){return t("name",e)}})),r.a.createElement(b.a,{span:8},r.a.createElement(C.a.Group,{defaultValue:"all",buttonStyle:"solid",onChange:function(e){switch(e.target.value){case"all":return n("isRead");case"read":return t("isRead",!0);case"not-yet-read":return t("isRead",!1);default:return}}},r.a.createElement(C.a.Button,{value:"all"},"All"),r.a.createElement(C.a.Button,{value:"read"},"Read"),r.a.createElement(C.a.Button,{value:"not-yet-read"},"Not yet read"))))},M=Object(s.b)(function(e,t){return Object(w.a)({},e.sortBy)},function(e){return{setFilter:function(t,n){return console.log("setFilterMapDis",t,n),e(function(e,t){return{type:"SET_FILTER",payload:{filterName:e,filterValue:t}}}(t,n))},unsetFilter:function(t){return e(function(e,t){return{type:"UNSET_FILTER",payload:{filterName:e}}}(t))}}})(B),x=n(318),q=x.a.Item;var H=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var a=(new Date).getTime();n.props.handleSubmit(Object(w.a)({id:a},t))}})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"render",value:function(){var e,t=this.props.form,n=t.getFieldDecorator,a=t.getFieldsError,i=t.getFieldError,l=t.isFieldTouched,o=l("name")&&i("name"),c=l("qty")&&i("qty");return r.a.createElement(x.a,{layout:"inline",onSubmit:this.handleSubmit},r.a.createElement(q,{validateStatus:o?"error":"",help:o||""},n("name",{rules:[{required:!0,message:"Please input name"}]})(r.a.createElement(F.a,{placeholder:"name"}))),r.a.createElement(q,{validateStatus:c?"error":"",help:c||""},n("qty",{rules:[{required:!0,message:"Please input qty!"}]})(r.a.createElement(F.a,{placeholder:"qty"}))),r.a.createElement(q,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",disabled:(e=a(),Object.keys(e).some(function(t){return e[t]}))},"Add")))}}]),t}(r.a.Component),P=x.a.create()(H),V=function(e){return r.a.createElement(R.a,{onClick:function(t){"delete"===t.key&&e.deleteHandle(),"markRead"===t.key&&e.markAsReadHandle()}},r.a.createElement(R.a.Item,{key:"markRead"},"Mark As Read"),r.a.createElement(R.a.Item,{key:"delete"},"Delete"))},Y=function(e){return r.a.createElement(y.a,{style:{"margin-top":"20px"}},r.a.createElement(b.a,{span:8,onClick:function(){e.clickHandle("name")}},r.a.createElement("b",{style:{"padding-right":"10px"}},"Name"),r.a.createElement(O.Icon,{name:"sort"})),r.a.createElement(b.a,{span:4,onClick:function(){return e.clickHandle("qty")}},r.a.createElement("b",{style:{"padding-right":"10px"}},"Qty"),r.a.createElement(O.Icon,{name:"sort"})),r.a.createElement(b.a,{span:4},r.a.createElement("b",null,"isRead")),r.a.createElement(b.a,{span:8},r.a.createElement("b",null,"Labels")))},G=Object(s.b)(function(e,t){return Object(w.a)({},e.sortBy)},null,function(e,t){e.currentColumnName,e.currentDirection;var n=t.dispatch;return{clickHandle:function(t){e.columnName==t?n(A(t,"ASC"===e.direction?"DESC":"ASC")):n(A(t,"ASC"))}}})(Y),U=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).onDragEnd=function(e){var t=e.destination.index,a=e.draggableId;n.props.unsetSortBy(),n.props.changeOrder(a,t)},n.handleAddFormSubmit=function(e){n.props.addItem(e),n.setState({addFormVisible:!1})},n.deleteItem=function(e){n.confirm("Are You sure you want delete item",function(){return n.props.deleteItem(e)})},n.markAsReadItem=function(e){n.confirm("Are You sure you want mark item as read",function(){return n.props.markAsReadItem(e)})};e.items;return n.state={items:e.items,filterName:"",addFormVisible:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({items:e.items})}},{key:"confirm",value:function(e,t){p.a.confirm({title:null,content:e,okText:"OK",cancelText:"CANCEL",onOk:t})}},{key:"render",value:function(){var e=this,t=this.state.items;return r.a.createElement(N.a,{onDragEnd:this.onDragEnd},r.a.createElement(N.c,{droppableId:"droppable-1",type:"PERSON"},function(n,a){return r.a.createElement("div",Object.assign({},n.droppableProps,{ref:n.innerRef}),r.a.createElement(E.a,{header:r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(G,null)),footer:r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(b.a,{span:4,offset:4},r.a.createElement(v.a,{content:r.a.createElement(P,{handleSubmit:e.handleAddFormSubmit,handleCancel:function(){return e.setState({addFormVisible:!1})}}),title:"Add new Item",trigger:"click",visible:e.state.addFormVisible},r.a.createElement(h.a,{block:!0,onClick:function(){return e.setState({addFormVisible:!0})},disabled:e.state.addFormVisible},"Add"))))),bordered:!0,dataSource:t,renderItem:function(t,n){return r.a.createElement(N.b,{draggableId:t.id,index:n},function(n,a){return r.a.createElement(I.a,{overlay:r.a.createElement(V,{deleteHandle:function(){return e.deleteItem(t.id)},markAsReadHandle:function(){return e.markAsReadItem(t.id)}}),trigger:["contextMenu"]},r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),r.a.createElement(_,Object.assign({key:t.id},t))))})}},n.placeholder))}))}}]),t}(r.a.Component),K=n(60),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM_ORDER":var n=Math.max.apply(Math,e.map(function(e){return e.order}));return Object(K.a)(e).concat([{itemId:t.payload.itemId,order:n+1}]);case"DELETE_ITEM_ORDER":return e.filter(function(e){return e.itemId!==t.payload.itemId});case"CHANGE_ORDER":var a=e.find(function(e){return e.itemId===t.payload.id}).order,r=t.payload.order;if(r<a){var i=e.map(function(e){return e.order>=r&&e.order<a&&(e.order=e.order+1),e});return i.find(function(e){return e.itemId==t.payload.id}).order=r,i}var l=e.map(function(e){return e.order<=r&&e.order>a&&(e.order=e.order-1),e});return l.find(function(e){return e.itemId==t.payload.id}).order=r,l;default:return e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return Object(K.a)(e).concat([t.payload]);case"DELETE_ITEM":return e.filter(function(e){return e.id!==t.payload.id});case"MARK_AS_READ_ITEM":return e.map(function(e){return e.id==t.payload.id&&(e.isRead=!0),e});default:return e}return e},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SORT_BY":return Object.assign({},e,{columnName:t.payload.columnName,direction:t.payload.direction});case"UNSET_SORT_BY":return Object.assign({},e,{columnName:null,direction:null});default:return e}},$=n(71),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":var n=t.payload,a=n.filterName,r=n.filterValue;return Object.assign({},e,Object($.a)({},a,r));case"UNSET_FILTER":return Object.assign({},e,Object($.a)({},t.payload.filterName,null));default:return e}return e},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0).type,e},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM_LABEL":return Object(K.a)(e).concat([Object(w.a)({id:(new Date).getTime()},t.payload)]);default:return e}},ee=Object(f.c)({items:J,itemOrders:W,sortBy:Q,filters:z,labels:X,itemLabels:Z}),te=function(e){var t=e;return function(e){var t,n,a=(t=e.items,(n=e.filters).hasOwnProperty("name")&&null!==n.name&&(t=t.slice().filter(function(e){return e.name.indexOf(n.name)>-1})),n.hasOwnProperty("isRead")&&null!==n.isRead&&(t=t.slice().filter(function(e){return e.isRead===n.isRead})),t);if(null!==e.sortBy.columnName)return function(e,t,n){return e.slice().sort(function(e,a){return e[t]===a[t]?0:e[t]<a[t]?"ASC"===n?-1:1:e[t]>a[t]?"ASC"===n?1:-1:void 0})}(a,e.sortBy.columnName,e.sortBy.direction);var r=e.itemOrders.filter(function(e){return a.find(function(t){return t.id===e.itemId})});return function(e,t){var n=[],a=t.slice().sort(function(e,t){return e.order<t.order?-1:e.order>t.order?1:0}),r=function(t){var r=a[t];n[t]=e.find(function(e){return e.id==r.itemId}),n[t].order=r.order};for(var i in a)r(i);return n}(a,r)}(t).map(function(e){var n=t.labels.filter(function(n){return t.itemLabels.filter(function(t){return t.labelId==n.id&&t.itemId==e.id}).length>0});return Object.assign(e,{labels:n})})},ne=Object(s.b)(function(e,t){return{items:te(e)}},function(e){return{changeOrder:function(t,n){e(function(e,t){return{type:"CHANGE_ORDER",payload:{id:e,order:t}}}(t,n))},unsetSortBy:function(){return e({type:"UNSET_SORT_BY",payload:{}})},addItem:function(t){e(function(e,t,n){return{type:"ADD_ITEM",payload:{id:e,name:t,qty:n,isRead:arguments.length>3&&void 0!==arguments[3]&&arguments[3]}}}(t.id,t.name,t.qty)),e({type:"ADD_ITEM_ORDER",payload:{itemId:t.id}})},deleteItem:function(t){e({type:"DELETE_ITEM_ORDER",payload:{itemId:t}}),e(function(e){return{type:"DELETE_ITEM",payload:{id:e}}}(t))},markAsReadItem:function(t){e(function(e){return{type:"MARK_AS_READ_ITEM",payload:{id:e}}}(t))}}})(U),ae={items:[{id:1,name:"Item1",qty:1,isRead:!1},{id:2,name:"Item2",qty:2,isRead:!1},{id:3,name:"Item3",qty:3,isRead:!1}],itemOrders:[{id:1,itemId:1,order:1},{id:2,itemId:2,order:0},{id:3,itemId:3,order:2}],sortBy:{columnName:null,direction:null},filters:{name:null,isRead:null},labels:[{id:1,name:"Label1",color:"#4286f4"},{id:2,name:"Label2",color:"#f45641"},{id:3,name:"Label3",color:"#41f467"}],itemLabels:[{id:1,labelId:1,itemId:1},{id:2,labelId:2,itemId:1}]},re=(n(309),n(310),n(312),Object(f.e)(ee,ae)),ie=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(s.a,{store:re},r.a.createElement("div",{className:"App"},r.a.createElement(ne,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,2,1]]]);
//# sourceMappingURL=main.2a4d50d7.chunk.js.map